"""
@file: handlers/menu.py
@description: –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º UX
@dependencies: config.py, handlers/admin_handlers.AdminCheckMiddleware
@created: 2025-01-20
@updated: 2025-01-20 - –£–ª—É—á—à–µ–Ω–∏–µ UX –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
"""

import logging
from aiogram import Router, F
from aiogram.filters import Command
from aiogram.types import Message, CallbackQuery, InlineKeyboardMarkup, InlineKeyboardButton
from aiogram.utils.keyboard import InlineKeyboardBuilder
from aiogram.fsm.context import FSMContext

logger = logging.getLogger(__name__)
router = Router()

def build_main_menu_keyboard():
    """–°–æ–∑–¥–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é —Å —É–ª—É—á—à–µ–Ω–Ω–æ–π –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –∏ UX"""
    builder = InlineKeyboardBuilder()

    # üéØ –û–°–ù–û–í–ù–´–ï –î–ï–ô–°–¢–í–ò–Ø (1-2 —Å—Ç—Ä–æ–∫–∏)
    builder.button(text="‚úçÔ∏è –°–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç", callback_data="menu:generate_post")
    builder.button(text="ü§ñ –ê–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥", callback_data="menu:auto_mode")
    builder.adjust(1, 1)  # –ö–∞–∂–¥–∞—è –∫–Ω–æ–ø–∫–∞ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –¥–ª—è –∞–∫—Ü–µ–Ω—Ç–∞

    # üìä –£–ü–†–ê–í–õ–ï–ù–ò–ï –ò –ê–ù–ê–õ–ò–¢–ò–ö–ê (3 —Å—Ç—Ä–æ–∫–∞)
    builder.button(text="üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞", callback_data="menu:stats")
    builder.button(text="üìÖ –ö–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω", callback_data="content:show")
    builder.adjust(2)

    # ‚öôÔ∏è –ù–ê–°–¢–†–û–ô–ö–ò (4-5 —Å—Ç—Ä–æ–∫–∏)
    builder.button(text="üìù –ü—Ä–æ–º–ø—Ç —Ç–µ–∫—Å—Ç–∞", callback_data="menu:set_content_prompt")
    builder.button(text="üñºÔ∏è –ü—Ä–æ–º–ø—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π", callback_data="menu:set_image_prompt")
    builder.adjust(2)
    
    builder.button(text="üì§ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏", callback_data="menu:publishing_settings")
    builder.adjust(1)

    # üìã –ö–û–ù–¢–ï–ù–¢ (6 —Å—Ç—Ä–æ–∫–∞)
    builder.button(text="üìÇ –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–ª–∞–Ω", callback_data="menu:upload_content_plan")
    builder.adjust(1)

    # üíæ –°–ò–°–¢–ï–ú–ù–´–ï –§–£–ù–ö–¶–ò–ò (7 —Å—Ç—Ä–æ–∫–∞)
    builder.button(text="üíæ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–º –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ–º", callback_data="backup:main")
    builder.adjust(1)

    # ‚ùì –ü–û–ú–û–©–¨ (8 —Å—Ç—Ä–æ–∫–∞)
    builder.button(text="‚ùì –°–ø—Ä–∞–≤–∫–∞", callback_data="menu:help")
    builder.adjust(1)

    return builder.as_markup()

def build_breadcrumb_keyboard(current_page: str, parent_callback: str = "back_to_menu"):
    """–°–æ–∑–¥–∞–µ—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å breadcrumbs –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏"""
    return InlineKeyboardMarkup(
        inline_keyboard=[[
            InlineKeyboardButton(text="üè† –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data="back_to_menu"),
            InlineKeyboardButton(text="‚¨ÖÔ∏è –ù–∞–∑–∞–¥", callback_data=parent_callback)
        ]]
    )

@router.message(Command("menu"))
async def cmd_menu(msg: Message):
    """–ö–æ–º–∞–Ω–¥–∞ /menu —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º"""
    logger.info(f"–ö–æ–º–∞–Ω–¥–∞ /menu –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {msg.from_user.id}")
    await msg.answer(
        "üè† <b>–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</b>\n\n"
        "üéØ –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –∏–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –Ω–∏–∂–µ:",
        reply_markup=build_main_menu_keyboard()
    )

@router.message(Command("start"))
async def cmd_start(msg: Message):
    """–ö–æ–º–∞–Ω–¥–∞ /start - –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"""
    logger.info(f"–ö–æ–º–∞–Ω–¥–∞ /start –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {msg.from_user.id}")
    await msg.answer(
        "ü§ñ <b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Autoposter Bot!</b>\n\n"
        "üéØ –≠—Ç–æ—Ç –±–æ—Ç –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏—é –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ Telegram –∏ VK.\n\n"
        "‚ú® <b>–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:</b>\n"
        "‚Ä¢ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é –ò–ò\n"
        "‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é\n"
        "‚Ä¢ –°–æ–∑–¥–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π\n"
        "‚Ä¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω–æ–º\n\n"
        "üöÄ –í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –∏–∑ –º–µ–Ω—é –Ω–∏–∂–µ:",
        reply_markup=build_main_menu_keyboard()
    )

@router.callback_query(F.data == "back_to_menu")
async def cb_back_to_menu(cb: CallbackQuery, state: FSMContext):
    """–í–æ–∑–≤—Ä–∞—Ç –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å breadcrumbs"""
    # –û—á–∏—â–∞–µ–º –ª—é–±–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ FSM –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
    await state.clear()
    
    await cb.message.edit_text(
        "üè† <b>–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</b>\n\n"
        "üéØ –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –∏–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –Ω–∏–∂–µ:",
        reply_markup=build_main_menu_keyboard(),
        parse_mode="HTML"
    )
    await cb.answer()

@router.callback_query(F.data == "menu:help")
async def cb_menu_help(cb: CallbackQuery):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ '–°–ø—Ä–∞–≤–∫–∞' —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º"""
    logger.info(f"Callback menu:help –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {cb.from_user.id}")
    
    help_text = """‚ùì <b>–°–ø—Ä–∞–≤–∫–∞ –ø–æ Autoposter Bot v2.0</b>

üéØ <b>–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –∏ —Ñ—É–Ω–∫—Ü–∏–∏:</b>

üìù <b>–°–û–ó–î–ê–ù–ò–ï –ü–û–°–¢–û–í</b>
‚Ä¢ <b>‚úçÔ∏è –°–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç</b> - –†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å –≤—ã–±–æ—Ä–æ–º —Ç–∏–ø–∞:
  ‚Üí –ü–æ—Å—Ç —Å –∫–∞—Ä—Ç–∏–Ω–∫–æ–π (—Ç–µ–∫—Å—Ç + –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ)  
  ‚Üí –¢–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç (–±–µ–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
‚Ä¢ <b>–°—Ç–∏–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:</b> üì∑ –§–æ—Ç–æ, üé® Digital Art, üå∏ –ê–Ω–∏–º–µ, ü§ñ –ö–∏–±–µ—Ä–ø–∞–Ω–∫, üßô‚Äç‚ôÇÔ∏è –§—ç–Ω—Ç–µ–∑–∏

ü§ñ <b>–ê–í–¢–û–ü–û–°–¢–ò–ù–ì</b>
‚Ä¢ <b>–í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ</b> –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
‚Ä¢ <b>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤ (–≤ —á–∞—Å–∞—Ö):</b> 1, 4, 12, 24, 72 —á–∞—Å–∞
‚Ä¢ <b>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤ (–≤ –º–∏–Ω—É—Ç–∞—Ö):</b> 5, 15, 30, 60, 120, 240 –º–∏–Ω—É—Ç
‚Ä¢ <b>–î–∏–∞–ø–∞–∑–æ–Ω –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤:</b> –æ—Ç 1 –º–∏–Ω—É—Ç—ã –¥–æ 168 —á–∞—Å–æ–≤ (7 –¥–Ω–µ–π)
‚Ä¢ <b>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:</b> –≤–∫–ª—é—á–µ–Ω–∏–µ/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –∏ –≤—ã–±–æ—Ä —Å—Ç–∏–ª—è –¥–ª—è –∞–≤—Ç–æ–ø–æ—Å—Ç–æ–≤

üìä <b>–°–¢–ê–¢–ò–°–¢–ò–ö–ê –ò –£–ü–†–ê–í–õ–ï–ù–ò–ï</b>
‚Ä¢ <b>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</b> - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å—Ç–æ–≤, –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–æ—Å—Ç–∞, —Å—Ç–∞—Ç—É—Å –∞–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥–∞
‚Ä¢ <b>üìÖ –ö–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω</b> - –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ —Ç–µ–º, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è (–≤—Å–µ/–Ω–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ/–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ)
‚Ä¢ <b>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω–æ–º:</b> –ø—Ä–æ—Å–º–æ—Ç—Ä, –æ—á–∏—Å—Ç–∫–∞, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–º

‚öôÔ∏è <b>–ù–ê–°–¢–†–û–ô–ö–ò</b>
‚Ä¢ <b>üìù –ü—Ä–æ–º–ø—Ç —Ç–µ–∫—Å—Ç–∞</b> - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –ò–ò –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (–≤–∫–ª—é—á–∞—è –ø—Ä–∏–º–µ—Ä—ã —Å—Ç–∏–ª–µ–π)
‚Ä¢ <b>üñºÔ∏è –ü—Ä–æ–º–ø—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</b> - –æ–ø–∏—Å–∞–Ω–∏–µ —Å—Ç–∏–ª—è –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π  
‚Ä¢ <b>üì§ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏</b> - –≤–∫–ª—é—á–µ–Ω–∏–µ/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ Telegram/VK, —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å
‚Ä¢ <b>üìÇ –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–ª–∞–Ω</b> - –∫–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω –≤ JSON/CSV —Ñ–æ—Ä–º–∞—Ç–µ

üíæ <b>–†–ï–ó–ï–†–í–ù–û–ï –ö–û–ü–ò–†–û–í–ê–ù–ò–ï</b>
‚Ä¢ <b>–°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤:</b> —Ä—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π
‚Ä¢ <b>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</b> –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞, –∑–∞–≥—Ä—É–∑–∫–∞, —É–¥–∞–ª–µ–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤
‚Ä¢ <b>–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ:</b> –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –±—ç–∫–∞–ø–∞
‚Ä¢ <b>–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫:</b> –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –±—ç–∫–∞–ø–æ–≤
‚Ä¢ <b>–≠–∫—Å–ø–æ—Ä—Ç –ø—Ä–æ–µ–∫—Ç–∞:</b> –ø–æ–ª–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üì± <b>–ü–û–®–ê–ì–û–í–ê–Ø –ù–ê–°–¢–†–û–ô–ö–ê:</b>

<b>1Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:</b>
‚Ä¢ –ù–∞–∂–º–∏—Ç–µ "üì§ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏"
‚Ä¢ –í–∫–ª—é—á–∏—Ç–µ "üì± Telegram" –∏/–∏–ª–∏ "üîµ VK"
‚Ä¢ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–≤–æ–π —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä: +7)
‚Ä¢ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

<b>2Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ò–ò:</b>
‚Ä¢ "üìù –ü—Ä–æ–º–ø—Ç —Ç–µ–∫—Å—Ç–∞" - –æ–ø–∏—à–∏—Ç–µ –∂–µ–ª–∞–µ–º—ã–π —Å—Ç–∏–ª—å –ø–æ—Å—Ç–æ–≤ –∏ –¥–æ–±–∞–≤—å—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –ø–æ—Å—Ç–æ–≤ –ø—Ä—è–º–æ –≤ –ø—Ä–æ–º–ø—Ç
‚Ä¢ "üñºÔ∏è –ü—Ä–æ–º–ø—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π" - –æ–ø–∏—à–∏—Ç–µ —Å—Ç–∏–ª—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã)

<b>3Ô∏è‚É£ –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞:</b>
‚Ä¢ "‚úçÔ∏è –°–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç" ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø (—Å –∫–∞—Ä—Ç–∏–Ω–∫–æ–π/—Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç)
‚Ä¢ –í–≤–µ–¥–∏—Ç–µ —Ç–µ–º—É –ø–æ—Å—Ç–∞
‚Ä¢ –í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∏–ª—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–µ—Å–ª–∏ –≤—ã–±—Ä–∞–ª–∏ "—Å –∫–∞—Ä—Ç–∏–Ω–∫–æ–π")
‚Ä¢ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ –æ–ø—É–±–ª–∏–∫—É–π—Ç–µ

<b>4Ô∏è‚É£ –ê–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥:</b>
‚Ä¢ "üìÇ –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–ª–∞–Ω" - –∑–∞–≥—Ä—É–∑–∏—Ç–µ JSON/CSV —Ñ–∞–π–ª —Å —Ç–µ–º–∞–º–∏
‚Ä¢ "ü§ñ –ê–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥" ‚Üí –≤–∫–ª—é—á–∏—Ç–µ –∞–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥
‚Ä¢ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª: –≤—ã–±–µ—Ä–∏—Ç–µ –µ–¥–∏–Ω–∏—Ü—É (—á–∞—Å—ã/–º–∏–Ω—É—Ç—ã) –∏ –∑–Ω–∞—á–µ–Ω–∏–µ
‚Ä¢ –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –∞–≤—Ç–æ–ø–æ—Å—Ç–æ–≤

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üìã <b>–§–û–†–ú–ê–¢–´ –§–ê–ô–õ–û–í:</b>

<b>–ö–æ–Ω—Ç–µ–Ω—Ç-–ø–ª–∞–Ω (JSON):</b>
<code>[
  {"category": "ai_tools", "theme": "–¢–µ–º–∞ –ø–æ—Å—Ç–∞", "post_description": "–û–ø–∏—Å–∞–Ω–∏–µ"},
  {"category": "news", "theme": "–ù–æ–≤–æ—Å—Ç–∏ –ò–ò", "post_description": "–û–ø–∏—Å–∞–Ω–∏–µ"}
]</code>

<b>–ü—Ä–∏–º–µ—Ä—ã —Å—Ç–∏–ª–µ–π (–≤ –ø—Ä–æ–º–ø—Ç–µ):</b>
–¢–µ–ø–µ—Ä—å –ø—Ä–∏–º–µ—Ä—ã —Å—Ç–∏–ª–µ–π –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –ø—Ä—è–º–æ –≤ "üìù –ü—Ä–æ–º–ø—Ç —Ç–µ–∫—Å—Ç–∞". –í–∫–ª—é—á–∏—Ç–µ –≤ –ø—Ä–æ–º–ø—Ç 2-3 –ª—É—á—à–∏—Ö –ø–æ—Å—Ç–∞ –∫–∞–∫ –æ–±—Ä–∞–∑—Ü—ã –¥–ª—è –ò–ò.

üí° <b>–ü–û–õ–ï–ó–ù–´–ï –°–û–í–ï–¢–´:</b>

‚Ä¢ <b>–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏</b> - –æ—Å–Ω–æ–≤–∞ —Ö–æ—Ä–æ—à–∏—Ö –ø–æ—Å—Ç–æ–≤
‚Ä¢ <b>–í–∫–ª—é—á–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –≤ –ø—Ä–æ–º–ø—Ç</b> - –ò–ò –ª—É—á—à–µ –ø–æ–π–º–µ—Ç –≤–∞—à —Å—Ç–∏–ª—å  
‚Ä¢ <b>–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</b> - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Ä–∞–±–æ—Ç—É –±–æ—Ç–∞
‚Ä¢ <b>–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ</b> - –∑–∞—â–∏—Ç–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ
‚Ä¢ <b>–ò–ò –Ω–∞ –±–∞–∑–µ OpenRouter</b> - –¥–æ—Å—Ç—É–ø –∫ –º–Ω–æ–∂–µ—Å—Ç–≤—É –º–æ–¥–µ–ª–µ–π –ò–ò

üÜò <b>–ö–û–ú–ê–ù–î–´ –ë–û–¢–ê:</b>
‚Ä¢ <code>/start</code> - –∑–∞–ø—É—Å–∫ –∏ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
‚Ä¢ <code>/menu</code> - –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –º–µ–Ω—é

‚ö†Ô∏è <b>–í–ê–ñ–ù–û:</b> –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –∏–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫–∏!"""

    breadcrumb_kb = build_breadcrumb_keyboard("help")
    
    await cb.message.edit_text(help_text, reply_markup=breadcrumb_kb)
    await cb.answer()

 